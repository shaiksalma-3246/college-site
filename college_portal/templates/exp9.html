{% extends 'base.html' %}
{% load static %}
{% block content %}

<div class="syllabus-wrapper experiment-page">
    <h2 class="syllabus-heading">
        Experiment 9: Time Series Forecasting using ARIMA Model
    </h2>

    <div class="exp-tabs">
        <button class="exp-tab active" onclick="showSection('aim', this)">Aim</button>
        <button class="exp-tab" onclick="showSection('procedure', this)">Description</button>
        <button class="exp-tab" onclick="showSection('code', this)">Code</button>
        <button class="exp-tab" onclick="showSection('explanation', this)">Explanation</button>
        <button class="exp-tab" onclick="showSection('output', this)">Output</button>
        <button class="exp-tab" onclick="showSection('result', this)">Result</button>
        <button class="exp-tab" onclick="showSection('viva', this)">Viva</button>
    </div>

    <div class="exp-content">

        
        <div id="aim" class="exp-section active">
            <strong>Aim:</strong><br><br>
            To perform time series analysis and forecasting on monthly sales data using
            the ARIMA (AutoRegressive Integrated Moving Average) model and predict future sales.
        </div>

        <div id="procedure" class="exp-section">
            <strong>Description:</strong><br><br>
            Time series forecasting is used to predict future values based on previously
            observed data.
            <br><br>
            In this experiment:
            <ul>
                <li>Monthly sales data is collected for one year</li>
                <li>The data is indexed using time (Month)</li>
                <li>A line plot is used to visualize sales trends</li>
                <li>The ARIMA model is applied to capture trend, autoregression, and moving average components</li>
                <li>Future sales for the next 3 months are forecasted</li>
            </ul>

            <strong>Formulas Used:</strong><br><br>

            <b>1. ARIMA Model:</b><br>
            ARIMA(p, d, q)
            <br><br>

            <b>2. ARIMA Equation:</b><br>
            Y<sub>t</sub> = c + ϕ<sub>1</sub>Y<sub>t−1</sub> + θ<sub>1</sub>ε<sub>t−1</sub> + ε<sub>t</sub>
        </div>

        <!-- CODE -->
        <div id="code" class="exp-section">
            <strong>Code:</strong><br><br>
            <pre>
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from statsmodels.tsa.arima.model import ARIMA
import warnings
warnings.filterwarnings("ignore")

data = {
    "Month": pd.date_range(start="2023-01-01", periods=12, freq="ME"),
    "Sales": [120, 130, 125, 140, 150, 160, 170, 165, 175, 180, 190, 200]
}

df = pd.DataFrame(data)
df.set_index("Month", inplace=True)
df = df.asfreq("ME")

print("Dataset:")
print(df)

plt.figure()
plt.plot(df, marker='o')
plt.title("Monthly Sales Data")
plt.xlabel("Month")
plt.ylabel("Sales")
plt.show()

model = ARIMA(df["Sales"], order=(1, 1, 1))
model_fit = model.fit()

forecast = model_fit.forecast(steps=3)
print("\nForecasted Sales for Next 3 Months:")
print(forecast)

plt.figure()
plt.plot(df, label="Actual Data")
plt.plot(forecast, label="Forecast", marker='o')
plt.title("Sales Forecast using ARIMA")
plt.xlabel("Month")
plt.ylabel("Sales")
plt.legend()
plt.show()
            </pre>
        </div>

        <div id="explanation" class="exp-section">
            <strong>Explanation:</strong><br><br>
            <pre>
<b>import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from statsmodels.tsa.arima.model import ARIMA
import warnings
warnings.filterwarnings("ignore")</b>

Imports required libraries.

<b>data = {...}</b>
Creates a dataset with monthly time periods and corresponding sales values.

<b>df.set_index("Month", inplace=True)</b>
Sets Month as time index.

<b>df.asfreq("ME")</b>
Ensures monthly frequency.

<b>plt.plot(df)</b>
Visualizes sales trend over time.

<b>model = ARIMA(df["Sales"], order=(1,1,1))</b>
Creates ARIMA model.

<b>model.fit()</b>
Trains the model.

<b>forecast = model_fit.forecast(steps=3)</b>
Predicts sales for next three months.

Plots compare actual and forecasted sales.
            </pre>
        </div>

        <div id="output" class="exp-section">
            <strong>Output:</strong><br><br>
            <pre>
<span class="output-heading">Dataset:</span>
   Month     Sales

2023-01-31    120
2023-02-28    130
2023-03-31    125
2023-04-30    140
2023-05-31    150
2023-06-30    160
2023-07-31    170
2023-08-31    165
2023-09-30    175
2023-10-31    180
2023-11-30    190
2023-12-31    200

<img src="{% static 'img/exp9-1.png' %}"
alt="Elbow Method" style="width:100%; max-width:600px; display:block; margin:auto; border-radius:12px; box-shadow:0 8px 20px rgba(0,0,0,0.15);">

<span class="output-heading">Forecasted Sales for Next 3 Months:</span>
2024-01-31    206.749246
2024-02-29    213.498470
2024-03-31    220.247673
Freq: ME, Name: predicted_mean, dtype: float64

<img src="{% static 'img/exp9-2.png' %}"
alt="Elbow Method" style="width:100%; max-width:600px; display:block; margin:auto; border-radius:12px; box-shadow:0 8px 20px rgba(0,0,0,0.15);">

            </pre>
        </div>

        <div id="result" class="exp-section">
            <strong>Result:</strong><br><br>
            The ARIMA model was successfully applied to the monthly sales data. The time
            series plot showed a clear upward trend in sales. After fitting the ARIMA (1,1,1)
            model, future sales for the next three months were forecasted.
            <br><br>
            The results indicate that sales are expected to continue increasing, demonstrating
            that ARIMA is an effective model for short-term sales forecasting. This experiment
            proves the usefulness of time series analysis in business decision-making and
            demand prediction.
        </div>

        <div id="viva" class="exp-section">
            <strong>Viva Questions:</strong><br><br>
            <pre>
<b>1. What is time series data?</b>
Time series data is a sequence of observations recorded at regular time intervals.

<b>2. What is the aim of this experiment?</b>
To forecast future sales using the ARIMA time series model.

<b>3. What does ARIMA stand for?</b>
ARIMA stands for AutoRegressive Integrated Moving Average.

<b>4. What do the parameters (p, d, q) in ARIMA represent?</b>

p - Autoregressive order

d - Degree of differencing

q - Moving average order

<b>5. Why is differencing used in ARIMA?</b>
Differencing is used to make the time series stationary.

<b>6. What is meant by a stationary time series?</b>
A stationary time series has constant mean, variance, and autocorrelation over time.

<b>7. Why is the Month column set as the index?</b>
Because ARIMA requires time-based indexing for forecasting.

<b>8. What is the purpose of plotting the sales data?</b>
To visualize trends and patterns in the time series.

<b>9. How many future values are predicted in this experiment?</b>
Sales for the next three months are predicted.

<b>10. What is the conclusion of this experiment?</b>
ARIMA successfully forecasts future sales and is suitable for short-term time series prediction.
            </pre>
        </div>

    </div>
</div>

<script>
function showSection(id, btn) {
    document.querySelectorAll('.exp-section').forEach(sec => sec.classList.remove('active'));
    document.querySelectorAll('.exp-tab').forEach(tab => tab.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    btn.classList.add('active');
}
</script>

{% endblock %}
